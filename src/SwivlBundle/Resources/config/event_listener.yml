services:

    swivl.listener.validation:
        class: SwivlBundle\EventListener\Common\ValidationListener
        arguments:
            - "@validator"
            #- "@tonic_rest.validation_failed_exception_factory"
        tags:
            - { name: kernel.event_listener, event: kernel.controller, method: onKernelController, priority: -256}

    swivl.listener.controller_response:
        class: SwivlBundle\EventListener\Common\ControllerResponseListener
        arguments:
            - "@jms_serializer.serializer"
            - false
        tags:
            - { name: kernel.event_listener, event: kernel.view, method: onKernelView }

    swivl.factory.composite_error_presentation:
        class: SwivlBundle\Presentation\ErrorPresentation\CompositeErrorPresentationFactory

    swivl.listener.exception:
        class: SwivlBundle\EventListener\Common\ExceptionListener
        arguments:
            - "@swivl.factory.composite_error_presentation"
            - "@jms_serializer.serializer"
        tags:
            - { name: kernel.event_listener, event: kernel.exception, method: onKernelException }